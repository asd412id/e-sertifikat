# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=e_sertifikat
DB_USER=postgres
DB_PASSWORD=password
ORIGINS='http://localhost:5173|http://127.0.0.1:5173|http://localhost:5174|http://localhost:5175'

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# Server Configuration
PORT=8000
NODE_ENV=development

# Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# Asset Library Auto Backfill
AUTO_ASSET_BACKFILL_ON_STARTUP=true
# Delay (ms) before background backfill kicks in after server starts
AUTO_ASSET_BACKFILL_STARTUP_DELAY_MS=1000
# Delay (ms) between each user backfill to avoid heavy I/O bursts
AUTO_ASSET_BACKFILL_USER_DELAY_MS=100

# Certificate Generation Configuration
CERTIFICATE_CONCURRENCY_LIMIT=5

# Certificate Verification (QR)
# Used to sign verification URLs embedded into QR codes.
# Change this in production.
CERT_VERIFY_SECRET=change-this-verify-secret

# Base URL embedded into QR codes (should be publicly reachable).
# Example: https://your-domain.com
CERT_VERIFY_BASE_URL=http://localhost:8000

# Puppeteer (PDF) Configuration
# Persist Chromium profile + disk cache across runs (improves performance for bulk generation)
# Default used by code: backend/.puppeteer_profile
PUPPETEER_USER_DATA_DIR=

# Optional alias for CERTIFICATE_CONCURRENCY_LIMIT (if set, this one takes precedence)
PUPPETEER_PDF_CONCURRENCY=

# In-memory cache for intercepted assets (/api/uploads & /api/fonts) to reduce disk reads
# Default TTL: 1 hour
PUPPETEER_ASSET_CACHE_TTL_MS=3600000

# Max cached items (roughly: number of distinct files cached)
PUPPETEER_ASSET_CACHE_MAX_ITEMS=1000

# PDF Metadata (Branding)
# These fields are written into the generated PDF so viewers don't show Chromium defaults
PDF_APP_NAME=e-Sertifikat
PDF_AUTHOR=
PDF_CREATOR=
PDF_PRODUCER=
PDF_SUBJECT=Sertifikat
PDF_KEYWORDS=sertifikat, certificate, e-sertifikat
